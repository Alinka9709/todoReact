{"ast":null,"code":"import _defineProperty from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import'./App.css';import{formatDistance}from'date-fns';import Footer from'../Footer/Footer';import NewTaskForm from'../NewTaskForm/NewTaskForm';import TackList from'../TaskList/TaskList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.maxId=100;_this.state={todoDate:[{label:' 4.2.7',id:1},{label:'bbbb',id:2},{label:'cccc',id:3}],filter:''};return _this;}_createClass(App,[{key:\"createNewTask\",value:function createNewTask(label){return{label:label,done:false,id:this.maxId++};}},{key:\"date\",value:function date(){var date=new Date();return formatDistance(date,new Date(),{addSuffix:true});}},{key:\"addItem\",value:function addItem(text){var newItem=this.createNewTask(text);this.setState(function(_ref){var todoDate=_ref.todoDate;var newArr=[].concat(_toConsumableArray(todoDate),[newItem]);return{todoDate:newArr};});}},{key:\"deleteItem\",value:function deleteItem(id){this.setState(function(_ref2){var todoDate=_ref2.todoDate;var idx=todoDate.findIndex(function(el){return el.id===id;});var newArray=[].concat(_toConsumableArray(todoDate.slice(0,idx)),_toConsumableArray(todoDate.slice(idx+1)));return{todoDate:newArray};});}},{key:\"search\",value:function search(items,term){if(term.length===0){return items;}return items.filter(function(item){return item.label.indexOf(term)>-1;});}},{key:\"onFilterChange\",value:function onFilterChange(filter){this.setState({filter:filter});}},{key:\"toggleProperty\",value:function toggleProperty(arr,id,propName){var idx=arr.findIndex(function(el){return el.id===id;});var oldItem=arr[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},_defineProperty({},propName,!oldItem[propName]));return[].concat(_toConsumableArray(arr.slice(0,idx)),[newItem],_toConsumableArray(arr.slice(idx+1)));}},{key:\"deleteItems\",value:function deleteItems(){this.setState(function(_ref3){var todoDate=_ref3.todoDate;var doneCount=todoDate.filter(function(el){return!el.done;});return{todoDate:doneCount};});}},{key:\"onToggleDone\",value:function onToggleDone(id){this.setState(function(_ref4){var todoDate=_ref4.todoDate;var idx=todoDate.findIndex(function(el){return el.id===id;});var oldItem=todoDate[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{done:!oldItem.done});var newArray=[].concat(_toConsumableArray(todoDate.slice(0,idx)),[newItem],_toConsumableArray(todoDate.slice(idx+1)));return{todoDate:newArray};});}},{key:\"filter\",value:function filter(items,_filter){if(_filter==='all'){return items;}if(_filter==='active'){return items.filter(function(item){return!item.done;});}if(_filter==='done'){return items.filter(function(item){return item.done;});}return items;}},{key:\"render\",value:function render(){var doneCount=this.state.todoDate.filter(function(el){return el.done;}).length;var todoCount=this.state.todoDate.length-doneCount;var visibility=this.filter(this.state.todoDate,this.state.filter);return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"todos\"})}),/*#__PURE__*/_jsx(NewTaskForm,{addItem:this.addItem}),/*#__PURE__*/_jsx(TackList,{todos:visibility,onToggleDone:this.onToggleDone,onDeleted:this.deleteItem,date:this.date}),/*#__PURE__*/_jsx(Footer,{todoCount:todoCount,filter:this.state.filter,onFilterChange:this.onFilterChange,deleteItems:this.deleteItems})]});}}]);return App;}(React.Component);export{App as default};","map":{"version":3,"names":["React","formatDistance","Footer","NewTaskForm","TackList","App","maxId","state","todoDate","label","id","filter","done","date","Date","addSuffix","text","newItem","createNewTask","setState","newArr","idx","findIndex","el","newArray","slice","items","term","length","item","indexOf","arr","propName","oldItem","doneCount","todoCount","visibility","addItem","onToggleDone","deleteItem","onFilterChange","deleteItems","Component"],"sources":["/Users/alinakudravceva/Desktop/todo/src/components/App/App.jsx"],"sourcesContent":["import React from 'react';\nimport './App.css';\nimport { formatDistance } from 'date-fns';\n\nimport Footer from '../Footer/Footer';\nimport NewTaskForm from '../NewTaskForm/NewTaskForm';\nimport TackList from '../TaskList/TaskList';\n\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    this.maxId = 100;\n    this.state = {\n      todoDate: [\n        { label: ' 4.2.7', id: 1 },\n        { label: 'bbbb', id: 2 },\n        { label: 'cccc', id: 3 },\n      ],\n      filter: '',\n    };\n  }\n\n  createNewTask(label) {\n    return {\n      label,\n      done: false,\n\n      id: this.maxId++,\n    };\n  }\n\n  date() {\n    const date = new Date();\n    return formatDistance(date, new Date(), { addSuffix: true });\n  }\n\n  addItem(text) {\n    const newItem = this.createNewTask(text);\n\n    this.setState(({ todoDate }) => {\n      const newArr = [...todoDate, newItem];\n      return { todoDate: newArr };\n    });\n  }\n\n  deleteItem(id) {\n    this.setState(({ todoDate }) => {\n      const idx = todoDate.findIndex((el) => el.id === id);\n      const newArray = [...todoDate.slice(0, idx), ...todoDate.slice(idx + 1)];\n      return {\n        todoDate: newArray,\n      };\n    });\n  }\n  search(items, term) {\n    if (term.length === 0) {\n      return items;\n    }\n    return items.filter((item) => item.label.indexOf(term) > -1);\n  }\n\n  onFilterChange(filter) {\n    this.setState({ filter });\n  }\n\n  toggleProperty(arr, id, propName) {\n    const idx = arr.findIndex((el) => el.id === id);\n    const oldItem = arr[idx];\n    const newItem = { ...oldItem, [propName]: !oldItem[propName] };\n    return [...arr.slice(0, idx), newItem, ...arr.slice(idx + 1)];\n  }\n\n  deleteItems() {\n    this.setState(({ todoDate }) => {\n      const doneCount = todoDate.filter((el) => !el.done);\n      return {\n        todoDate: doneCount,\n      };\n    });\n  }\n\n  onToggleDone(id) {\n    this.setState(({ todoDate }) => {\n      const idx = todoDate.findIndex((el) => el.id === id);\n\n      const oldItem = todoDate[idx];\n      const newItem = { ...oldItem, done: !oldItem.done };\n      const newArray = [...todoDate.slice(0, idx), newItem, ...todoDate.slice(idx + 1)];\n      return {\n        todoDate: newArray,\n      };\n    });\n  }\n\n  filter(items, filter) {\n    if (filter === 'all') {\n      return items;\n    }\n    if (filter === 'active') {\n      return items.filter((item) => !item.done);\n    }\n    if (filter === 'done') {\n      return items.filter((item) => item.done);\n    }\n    return items;\n  }\n\n  render() {\n    const doneCount = this.state.todoDate.filter((el) => el.done).length;\n    const todoCount = this.state.todoDate.length - doneCount;\n\n    const visibility = this.filter(this.state.todoDate, this.state.filter);\n    return (\n      <section className=\"todoapp\">\n        <header className=\"header\">\n          <h1>todos</h1>\n        </header>\n\n        <NewTaskForm addItem={this.addItem} />\n        <TackList todos={visibility} onToggleDone={this.onToggleDone} onDeleted={this.deleteItem} date={this.date} />\n        <Footer\n          todoCount={todoCount}\n          filter={this.state.filter}\n          onFilterChange={this.onFilterChange}\n          deleteItems={this.deleteItems}\n        />\n      </section>\n    );\n  }\n}\n"],"mappings":"w0BAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,OAASC,cAAT,KAA+B,UAA/B,CAEA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,YAAP,KAAwB,4BAAxB,CACA,MAAOC,SAAP,KAAqB,sBAArB,C,2FAEqBC,I,sGACnB,cAAc,qCACZ,wBACA,MAAKC,KAAL,CAAa,GAAb,CACA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,CACR,CAAEC,KAAK,CAAE,QAAT,CAAmBC,EAAE,CAAE,CAAvB,CADQ,CAER,CAAED,KAAK,CAAE,MAAT,CAAiBC,EAAE,CAAE,CAArB,CAFQ,CAGR,CAAED,KAAK,CAAE,MAAT,CAAiBC,EAAE,CAAE,CAArB,CAHQ,CADC,CAMXC,MAAM,CAAE,EANG,CAAb,CAHY,aAWb,C,6CAED,uBAAcF,KAAd,CAAqB,CACnB,MAAO,CACLA,KAAK,CAALA,KADK,CAELG,IAAI,CAAE,KAFD,CAILF,EAAE,CAAE,KAAKJ,KAAL,EAJC,CAAP,CAMD,C,oBAED,eAAO,CACL,GAAMO,KAAI,CAAG,GAAIC,KAAJ,EAAb,CACA,MAAOb,eAAc,CAACY,IAAD,CAAO,GAAIC,KAAJ,EAAP,CAAmB,CAAEC,SAAS,CAAE,IAAb,CAAnB,CAArB,CACD,C,uBAED,iBAAQC,IAAR,CAAc,CACZ,GAAMC,QAAO,CAAG,KAAKC,aAAL,CAAmBF,IAAnB,CAAhB,CAEA,KAAKG,QAAL,CAAc,cAAkB,IAAfX,SAAe,MAAfA,QAAe,CAC9B,GAAMY,OAAM,8BAAOZ,QAAP,GAAiBS,OAAjB,EAAZ,CACA,MAAO,CAAET,QAAQ,CAAEY,MAAZ,CAAP,CACD,CAHD,EAID,C,0BAED,oBAAWV,EAAX,CAAe,CACb,KAAKS,QAAL,CAAc,eAAkB,IAAfX,SAAe,OAAfA,QAAe,CAC9B,GAAMa,IAAG,CAAGb,QAAQ,CAACc,SAAT,CAAmB,SAACC,EAAD,QAAQA,GAAE,CAACb,EAAH,GAAUA,EAAlB,EAAnB,CAAZ,CACA,GAAMc,SAAQ,8BAAOhB,QAAQ,CAACiB,KAAT,CAAe,CAAf,CAAkBJ,GAAlB,CAAP,qBAAkCb,QAAQ,CAACiB,KAAT,CAAeJ,GAAG,CAAG,CAArB,CAAlC,EAAd,CACA,MAAO,CACLb,QAAQ,CAAEgB,QADL,CAAP,CAGD,CAND,EAOD,C,sBACD,gBAAOE,KAAP,CAAcC,IAAd,CAAoB,CAClB,GAAIA,IAAI,CAACC,MAAL,GAAgB,CAApB,CAAuB,CACrB,MAAOF,MAAP,CACD,CACD,MAAOA,MAAK,CAACf,MAAN,CAAa,SAACkB,IAAD,QAAUA,KAAI,CAACpB,KAAL,CAAWqB,OAAX,CAAmBH,IAAnB,EAA2B,CAAC,CAAtC,EAAb,CAAP,CACD,C,8BAED,wBAAehB,MAAf,CAAuB,CACrB,KAAKQ,QAAL,CAAc,CAAER,MAAM,CAANA,MAAF,CAAd,EACD,C,8BAED,wBAAeoB,GAAf,CAAoBrB,EAApB,CAAwBsB,QAAxB,CAAkC,CAChC,GAAMX,IAAG,CAAGU,GAAG,CAACT,SAAJ,CAAc,SAACC,EAAD,QAAQA,GAAE,CAACb,EAAH,GAAUA,EAAlB,EAAd,CAAZ,CACA,GAAMuB,QAAO,CAAGF,GAAG,CAACV,GAAD,CAAnB,CACA,GAAMJ,QAAO,gCAAQgB,OAAR,wBAAkBD,QAAlB,CAA6B,CAACC,OAAO,CAACD,QAAD,CAArC,EAAb,CACA,mCAAWD,GAAG,CAACN,KAAJ,CAAU,CAAV,CAAaJ,GAAb,CAAX,GAA8BJ,OAA9B,qBAA0Cc,GAAG,CAACN,KAAJ,CAAUJ,GAAG,CAAG,CAAhB,CAA1C,GACD,C,2BAED,sBAAc,CACZ,KAAKF,QAAL,CAAc,eAAkB,IAAfX,SAAe,OAAfA,QAAe,CAC9B,GAAM0B,UAAS,CAAG1B,QAAQ,CAACG,MAAT,CAAgB,SAACY,EAAD,QAAQ,CAACA,EAAE,CAACX,IAAZ,EAAhB,CAAlB,CACA,MAAO,CACLJ,QAAQ,CAAE0B,SADL,CAAP,CAGD,CALD,EAMD,C,4BAED,sBAAaxB,EAAb,CAAiB,CACf,KAAKS,QAAL,CAAc,eAAkB,IAAfX,SAAe,OAAfA,QAAe,CAC9B,GAAMa,IAAG,CAAGb,QAAQ,CAACc,SAAT,CAAmB,SAACC,EAAD,QAAQA,GAAE,CAACb,EAAH,GAAUA,EAAlB,EAAnB,CAAZ,CAEA,GAAMuB,QAAO,CAAGzB,QAAQ,CAACa,GAAD,CAAxB,CACA,GAAMJ,QAAO,gCAAQgB,OAAR,MAAiBrB,IAAI,CAAE,CAACqB,OAAO,CAACrB,IAAhC,EAAb,CACA,GAAMY,SAAQ,8BAAOhB,QAAQ,CAACiB,KAAT,CAAe,CAAf,CAAkBJ,GAAlB,CAAP,GAA+BJ,OAA/B,qBAA2CT,QAAQ,CAACiB,KAAT,CAAeJ,GAAG,CAAG,CAArB,CAA3C,EAAd,CACA,MAAO,CACLb,QAAQ,CAAEgB,QADL,CAAP,CAGD,CATD,EAUD,C,sBAED,gBAAOE,KAAP,CAAcf,OAAd,CAAsB,CACpB,GAAIA,OAAM,GAAK,KAAf,CAAsB,CACpB,MAAOe,MAAP,CACD,CACD,GAAIf,OAAM,GAAK,QAAf,CAAyB,CACvB,MAAOe,MAAK,CAACf,MAAN,CAAa,SAACkB,IAAD,QAAU,CAACA,IAAI,CAACjB,IAAhB,EAAb,CAAP,CACD,CACD,GAAID,OAAM,GAAK,MAAf,CAAuB,CACrB,MAAOe,MAAK,CAACf,MAAN,CAAa,SAACkB,IAAD,QAAUA,KAAI,CAACjB,IAAf,EAAb,CAAP,CACD,CACD,MAAOc,MAAP,CACD,C,sBAED,iBAAS,CACP,GAAMQ,UAAS,CAAG,KAAK3B,KAAL,CAAWC,QAAX,CAAoBG,MAApB,CAA2B,SAACY,EAAD,QAAQA,GAAE,CAACX,IAAX,EAA3B,EAA4CgB,MAA9D,CACA,GAAMO,UAAS,CAAG,KAAK5B,KAAL,CAAWC,QAAX,CAAoBoB,MAApB,CAA6BM,SAA/C,CAEA,GAAME,WAAU,CAAG,KAAKzB,MAAL,CAAY,KAAKJ,KAAL,CAAWC,QAAvB,CAAiC,KAAKD,KAAL,CAAWI,MAA5C,CAAnB,CACA,mBACE,iBAAS,SAAS,CAAC,SAAnB,wBACE,eAAQ,SAAS,CAAC,QAAlB,uBACE,6BADF,EADF,cAKE,KAAC,WAAD,EAAa,OAAO,CAAE,KAAK0B,OAA3B,EALF,cAME,KAAC,QAAD,EAAU,KAAK,CAAED,UAAjB,CAA6B,YAAY,CAAE,KAAKE,YAAhD,CAA8D,SAAS,CAAE,KAAKC,UAA9E,CAA0F,IAAI,CAAE,KAAK1B,IAArG,EANF,cAOE,KAAC,MAAD,EACE,SAAS,CAAEsB,SADb,CAEE,MAAM,CAAE,KAAK5B,KAAL,CAAWI,MAFrB,CAGE,cAAc,CAAE,KAAK6B,cAHvB,CAIE,WAAW,CAAE,KAAKC,WAJpB,EAPF,GADF,CAgBD,C,iBAxH8BzC,KAAK,CAAC0C,S,SAAlBrC,G"},"metadata":{},"sourceType":"module"}