{"ast":null,"code":"import _defineProperty from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import'./App.css';import{formatDistance}from'date-fns';import Footer from'../Footer/Footer';import NewTaskForm from'../NewTaskForm/NewTaskForm';import TackList from'../TaskList/TaskList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.addItem=function(text){var newItem=_this.createNewTask(text);_this.setState(function(_ref){var todoDate=_ref.todoDate;var newArr=[].concat(_toConsumableArray(todoDate),[newItem]);return{todoDate:newArr};});};_this.deleteItem=function(id){_this.setState(function(_ref2){var todoDate=_ref2.todoDate;var idx=todoDate.findIndex(function(el){return el.id===id;});var newArray=[].concat(_toConsumableArray(todoDate.slice(0,idx)),_toConsumableArray(todoDate.slice(idx+1)));return{todoDate:newArray};});};_this.search=function(items,term){if(term.length===0){return items;}return items.filter(function(item){return item.label.indexOf(term)>-1;});};_this.onFilterChange=function(filter){_this.setState({filter:filter});};_this.toggleProperty=function(arr,id,propName){var idx=arr.findIndex(function(el){return el.id===id;});var oldItem=arr[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},_defineProperty({},propName,!oldItem[propName]));return[].concat(_toConsumableArray(arr.slice(0,idx)),[newItem],_toConsumableArray(arr.slice(idx+1)));};_this.deleteItems=function(){_this.setState(function(_ref3){var todoDate=_ref3.todoDate;var doneCount=todoDate.filter(function(el){return!el.done;});return{todoDate:doneCount};});};_this.onToggleDone=function(id){_this.setState(function(_ref4){var todoDate=_ref4.todoDate;var idx=todoDate.findIndex(function(el){return el.id===id;});var oldItem=todoDate[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{done:!oldItem.done});var newArray=[].concat(_toConsumableArray(todoDate.slice(0,idx)),[newItem],_toConsumableArray(todoDate.slice(idx+1)));return{todoDate:newArray};});};_this.date=function(){var date=new Date();return formatDistance(date,new Date(),{addSuffix:true});};maxId=100;_this.state={todoDate:[{label:' 4.2.7',id:1},{label:'bbbb',id:2},{label:'cccc',id:3}],filter:''};return _this;}_createClass(App,[{key:\"filter\",value:function filter(items,_filter){if(_filter==='all'){return items;}if(_filter==='active'){return items.filter(function(item){return!item.done;});}if(_filter==='done'){return items.filter(function(item){return item.done;});}return items;}},{key:\"createNewTask\",value:function createNewTask(label){return{label:label,done:false,id:this.maxId+=1};}},{key:\"render\",value:function render(){var _this$state=this.state,todoDate=_this$state.todoDate,filter=_this$state.filter;var doneCount=todoDate.filter(function(el){return el.done;}).length;var todoCount=todoDate.length-doneCount;var visibility=this.filter(todoDate,filter);return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"todos\"})}),/*#__PURE__*/_jsx(NewTaskForm,{addItem:this.addItem}),/*#__PURE__*/_jsx(TackList,{todos:visibility,onToggleDone:this.onToggleDone,onDeleted:this.deleteItem,date:this.date}),/*#__PURE__*/_jsx(Footer,{todoCount:todoCount,filter:filter,onFilterChange:this.onFilterChange,deleteItems:this.deleteItems})]});}}]);return App;}(React.Component);export{App as default};","map":{"version":3,"names":["React","formatDistance","Footer","NewTaskForm","TackList","App","addItem","text","newItem","createNewTask","setState","todoDate","newArr","deleteItem","id","idx","findIndex","el","newArray","slice","search","items","term","length","filter","item","label","indexOf","onFilterChange","toggleProperty","arr","propName","oldItem","deleteItems","doneCount","done","onToggleDone","date","Date","addSuffix","maxId","state","todoCount","visibility","Component"],"sources":["/Users/alinakudravceva/Desktop/todo/src/components/App/App.jsx"],"sourcesContent":["import React from 'react';\nimport './App.css';\nimport { formatDistance } from 'date-fns';\n\nimport Footer from '../Footer/Footer';\nimport NewTaskForm from '../NewTaskForm/NewTaskForm';\nimport TackList from '../TaskList/TaskList';\n\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    maxId = 100;\n    this.state = {\n      todoDate: [\n        { label: ' 4.2.7', id: 1 },\n        { label: 'bbbb', id: 2 },\n        { label: 'cccc', id: 3 },\n      ],\n      filter: '',\n    };\n  }\n  addItem = (text) => {\n    const newItem = this.createNewTask(text);\n    this.setState(({ todoDate }) => {\n      const newArr = [...todoDate, newItem];\n      return { todoDate: newArr };\n    });\n  };\n\n  deleteItem = (id) => {\n    this.setState(({ todoDate }) => {\n      const idx = todoDate.findIndex((el) => el.id === id);\n      const newArray = [...todoDate.slice(0, idx), ...todoDate.slice(idx + 1)];\n      return {\n        todoDate: newArray,\n      };\n    });\n  };\n\n  search = (items, term) => {\n    if (term.length === 0) {\n      return items;\n    }\n    return items.filter((item) => item.label.indexOf(term) > -1);\n  };\n\n  onFilterChange = (filter) => {\n    this.setState({ filter });\n  };\n\n  toggleProperty = (arr, id, propName) => {\n    const idx = arr.findIndex((el) => el.id === id);\n    const oldItem = arr[idx];\n    const newItem = { ...oldItem, [propName]: !oldItem[propName] };\n    return [...arr.slice(0, idx), newItem, ...arr.slice(idx + 1)];\n  };\n\n  deleteItems = () => {\n    this.setState(({ todoDate }) => {\n      const doneCount = todoDate.filter((el) => !el.done);\n      return {\n        todoDate: doneCount,\n      };\n    });\n  };\n\n  onToggleDone = (id) => {\n    this.setState(({ todoDate }) => {\n      const idx = todoDate.findIndex((el) => el.id === id);\n\n      const oldItem = todoDate[idx];\n      const newItem = { ...oldItem, done: !oldItem.done };\n      const newArray = [...todoDate.slice(0, idx), newItem, ...todoDate.slice(idx + 1)];\n      return {\n        todoDate: newArray,\n      };\n    });\n  };\n\n  date = () => {\n    const date = new Date();\n    return formatDistance(date, new Date(), { addSuffix: true });\n  };\n\n  filter(items, filter) {\n    if (filter === 'all') {\n      return items;\n    }\n    if (filter === 'active') {\n      return items.filter((item) => !item.done);\n    }\n    if (filter === 'done') {\n      return items.filter((item) => item.done);\n    }\n    return items;\n  }\n\n  createNewTask(label) {\n    return {\n      label,\n      done: false,\n      id: (this.maxId += 1),\n    };\n  }\n\n  render() {\n    const { todoDate, filter } = this.state;\n    const doneCount = todoDate.filter((el) => el.done).length;\n    const todoCount = todoDate.length - doneCount;\n\n    const visibility = this.filter(todoDate, filter);\n    return (\n      <section className=\"todoapp\">\n        <header className=\"header\">\n          <h1>todos</h1>\n        </header>\n\n        <NewTaskForm addItem={this.addItem} />\n        <TackList todos={visibility} onToggleDone={this.onToggleDone} onDeleted={this.deleteItem} date={this.date} />\n        <Footer\n          todoCount={todoCount}\n          filter={filter}\n          onFilterChange={this.onFilterChange}\n          deleteItems={this.deleteItems}\n        />\n      </section>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}