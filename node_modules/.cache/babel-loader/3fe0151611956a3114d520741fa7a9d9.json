{"ast":null,"code":"import _defineProperty from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/alinakudravceva/Desktop/todo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import'./App.css';import{formatDistance}from'date-fns';import Footer from'../Footer/Footer';import NewTaskForm from'../NewTaskForm/NewTaskForm';import TackList from'../TaskList/TaskList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.maxId=100;_this.state={todoDate:[{label:' 4.2.7',id:1},{label:'bbbb',id:2},{label:'cccc',id:3}],filter:''};_this.deleteItem=function(id){_this.setState(function(_ref){var todoDate=_ref.todoDate;var idx=todoDate.findIndex(function(el){return el.id===id;});var newArray=[].concat(_toConsumableArray(todoDate.slice(0,idx)),_toConsumableArray(todoDate.slice(idx+1)));return{todoDate:newArray};});};_this.onFilterChange=function(filter){_this.setState({filter:filter});};_this.deleteItems=function(){_this.setState(function(_ref2){var todoDate=_ref2.todoDate;var doneCount=todoDate.filter(function(el){return!el.done;});return{todoDate:doneCount};});};_this.onToggleDone=function(id){_this.setState(function(_ref3){var todoDate=_ref3.todoDate;var idx=todoDate.findIndex(function(el){return el.id===id;});var oldItem=todoDate[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{done:!oldItem.done});var newArray=[].concat(_toConsumableArray(todoDate.slice(0,idx)),[newItem],_toConsumableArray(todoDate.slice(idx+1)));return{todoDate:newArray};});};return _this;}_createClass(App,[{key:\"createNewTask\",value:function createNewTask(label){return{label:label,done:false,id:this.maxId++};}},{key:\"date\",value:function date(){var date=new Date();return formatDistance(date,new Date(),{addSuffix:true});}},{key:\"addItem\",value:function addItem(text){var newItem=this.createNewTask(text);this.setState(function(_ref4){var todoDate=_ref4.todoDate;var newArr=[].concat(_toConsumableArray(todoDate),[newItem]);return{todoDate:newArr};});}},{key:\"search\",value:function search(items,term){if(term.length===0){return items;}return items.filter(function(item){return item.label.indexOf(term)>-1;});}},{key:\"toggleProperty\",value:function toggleProperty(arr,id,propName){var idx=arr.findIndex(function(el){return el.id===id;});var oldItem=arr[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},_defineProperty({},propName,!oldItem[propName]));return[].concat(_toConsumableArray(arr.slice(0,idx)),[newItem],_toConsumableArray(arr.slice(idx+1)));}},{key:\"filter\",value:function filter(items,_filter){if(_filter==='all'){return items;}if(_filter==='active'){return items.filter(function(item){return!item.done;});}if(_filter==='done'){return items.filter(function(item){return item.done;});}return items;}},{key:\"render\",value:function render(){var doneCount=this.state.todoDate.filter(function(el){return el.done;}).length;var todoCount=this.state.todoDate.length-doneCount;var visibility=this.filter(this.state.todoDate,this.state.filter);return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"todos\"})}),/*#__PURE__*/_jsx(NewTaskForm,{addItem:this.addItem}),/*#__PURE__*/_jsx(TackList,{todos:visibility,onToggleDone:this.onToggleDone,onDeleted:this.deleteItem,date:this.date}),/*#__PURE__*/_jsx(Footer,{todoCount:todoCount,filter:this.state.filter,onFilterChange:this.onFilterChange,deleteItems:this.deleteItems})]});}}]);return App;}(React.Component);export{App as default};","map":{"version":3,"names":["React","formatDistance","Footer","NewTaskForm","TackList","App","maxId","state","todoDate","label","id","filter","deleteItem","setState","idx","findIndex","el","newArray","slice","onFilterChange","deleteItems","doneCount","done","onToggleDone","oldItem","newItem","date","Date","addSuffix","text","createNewTask","newArr","items","term","length","item","indexOf","arr","propName","todoCount","visibility","addItem","Component"],"sources":["/Users/alinakudravceva/Desktop/todo/src/components/App/App.jsx"],"sourcesContent":["import React from 'react';\nimport './App.css';\nimport { formatDistance } from 'date-fns'\nimport Footer from '../Footer/Footer'\nimport NewTaskForm from '../NewTaskForm/NewTaskForm'\nimport TackList from '../TaskList/TaskList'\n\nexport default class App extends React.Component {\n\n  maxId = 100\n  state = {\n    todoDate: [\n      { label: ' 4.2.7', id: 1 },\n      { label: 'bbbb', id: 2 },\n      { label: 'cccc', id: 3 },\n    ],\n    filter: '',\n  }\n  createNewTask(label) {\n    return {\n      label,\n      done: false,\n     id: this.maxId++,\n    }\n   }\n\n  date()  {\n    const date = new Date();\n    return formatDistance(date, new Date(), { addSuffix: true });\n  }\n\n  addItem(text) {\n    const newItem = this.createNewTask(text)\n     this.setState(({ todoDate }) => {\n      const newArr = [...todoDate, newItem]\n      return { todoDate: newArr }\n    })\n  }\n\n  deleteItem=(id)=>{\n    this.setState(({ todoDate }) => {\n      const idx = todoDate.findIndex((el) => el.id === id)\n      const newArray = [...todoDate.slice(0, idx), ...todoDate.slice(idx + 1)]\n      return {\n        todoDate: newArray,\n      }\n    })\n  }\n  search(items, term) {\n    if (term.length === 0) {\n      return items\n    }\n    return items.filter((item) => item.label.indexOf(term) > -1);\n  }\n\n\n  onFilterChange=(filter)=> {\n    this.setState({ filter })\n  }\n  toggleProperty(arr, id, propName) {\n    const idx = arr.findIndex((el) => el.id === id)\n    const oldItem = arr[idx]\n    const newItem = { ...oldItem, [propName]: !oldItem[propName] }\n    return [...arr.slice(0, idx), newItem, ...arr.slice(idx + 1)]\n  }\n\n  deleteItems=()=>{\n    this.setState(({ todoDate }) => {\n      const doneCount = todoDate.filter((el) => !el.done)\n      return {\n        todoDate: doneCount,\n      }\n    })\n  }\n\n  onToggleDone=(id)=>  {\n    this.setState(({ todoDate }) => {\n      const idx = todoDate.findIndex((el) => el.id === id)\n\n      const oldItem = todoDate[idx]\n      const newItem = { ...oldItem, done: !oldItem.done }\n      const newArray = [...todoDate.slice(0, idx), newItem, ...todoDate.slice(idx + 1)]\n      return {\n        todoDate: newArray,\n      }\n    })\n  }\n\n  filter(items, filter){\n    if (filter === 'all') {\n      return items\n    } if (filter === 'active') {\n      return items.filter((item) => !item.done)\n    } if (filter === 'done') {\n      return items.filter((item) => item.done)\n    }\n    return items\n  }\n\n  render() {\n    const doneCount = this.state.todoDate.filter((el) => el.done).length\n    const todoCount = this.state.todoDate.length - doneCount;\n\n    const visibility = this.filter(this.state.todoDate, this.state.filter)\n    return (\n      <section className=\"todoapp\">\n        <header className=\"header\">\n          <h1>todos</h1>\n\n        </header>\n\n        <NewTaskForm addItem={this.addItem} />\n        <TackList\n          todos={visibility}\n          onToggleDone={this.onToggleDone}\n          onDeleted={this.deleteItem}\n          date={this.date}\n        />\n        <Footer\n          todoCount={todoCount}\n          filter={this.state.filter}\n          onFilterChange={this.onFilterChange}\n          deleteItems={this.deleteItems}\n        />\n      </section>\n\n    )\n  }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}